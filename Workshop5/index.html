<!DOCTYPE html>
<html>
    <head>
        <title>SQL Data Display</title>

    </head>

    <body>
        <h1>SQL Data Display</h1>
        <form action="/add-user" method="post"> 
            <label for="name">Name: </label>
            <input type="text" id="name" name="name" required>
            <br><br>
            <label for="email">Email: </label>
            <input type="email" id="email" name="email" required>
            <br><br>
            <button type="submit">Save Data</button>
        </form>

        <ul id="dataList"></ul>
        

        <script>
            const dataList = document.getElementById('dataList')

            fetch('/get-users')
                .then(reponse => reponse.json())
                .then(users => {
                    users.forEach(user => {
                        const listItem = document.createElement('li')
                        listItem.textContent = `Name: ${user.name}, Email: ${user.email}`;
                        dataList.appendChild(listItem);
                    });
                })
                .catch(error => console.error(error));
        </script>

    </body>
</html>
